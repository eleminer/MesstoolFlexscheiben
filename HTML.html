<!DOCTYPE html>
<html id="backpage" lang="en">

<head>
    <title>Speedcheck Flex</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.5">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="CSS.css">
    <link rel="stylesheet" type="text/css" href="all.css">
</head>


<body>
    <script src="logic.js"></script>
    <script src="propeller.js"></script>
    <script src="Javascript.js"></script>
    <script src="WBButtons.js"></script>


    <!--Buttons-->
    <div id="Bcounterclockwise">
        <button id="BcounterclockwiseID" onclick="Bcounterclockwise()" class="fas fa-undo-alt htmlbuttons Bdelay">
            B</button>
    </div>

    <div id="reset">
        <button onclick="resetCorr()" class="fas fa-trash-alt htmlbuttons positionTOP"> R. corr </button>
        <button onclick="resetYellow()" class="fas fa-trash-alt htmlbuttons positionTOP"> R. yellow </button>
    </div>

    <div id="Bclockwise">
        <button id="BclockwiseID" onclick="Bclockwise()" class="fas fa-redo-alt htmlbuttons Bdelay"> B</button>
    </div>

    <div id="Wcounterclockwise">
        <button id="WcounterclockwiseID" onclick="Wcounterclockwise()" class="fas fa-undo-alt htmlbuttons Wdelay">
            W</button>
    </div>

    <div id="Wclockwise">
        <button id="WclockwiseID" onclick="Wclockwise()" class="fas fa-redo-alt htmlbuttons Wdelay"> W</button>
    </div>

    <div id="minusB">
        <button onclick="minusB()" class="fab fa-buffer htmlbuttons"> B -</button>
    </div>

    <div id="plusB">
        <button onclick="plusB()" class="fab fa-buffer htmlbuttons"> B +</button>
    </div>

    <div id="minusW">
        <button onclick="minusW()" class="fab fa-buffer htmlbuttons"> W -</button>
    </div>

    <div id="plusW">
        <button onclick="plusW()" class="fab fa-buffer htmlbuttons"> W +</button>
    </div>
    <!--Buttons-->


    <!--circles-->
    <div id="circleOut">
    </div>
    <div id="circleInner">
    </div>
    <!--circles-->


    <!--yellowPoints-->
    <div id="yellowOUT">
        <div id="yOUT">
        </div>
    </div>

    <div id="yellowIN">
        <div id="yIN">
        </div>
    </div>
    <!--yellowPoints-->

    <!--correctionLine-->
    <div id="correctionOUT">
        <div id="cOUT">
        </div>
    </div>
    <div id="correctionIN">
        <div id="cIN">
        </div>
    </div>
    <!--correctionLine-->

    <!--durationcounter-->
    <div id="durationInputFieldDIV">
        <h5 id="durationInputFieldText" class="durationcounter">Duration IN (ms):</h5>
        <h5 id="durationInputFieldIN" class="durationcounter"></h5>
        <h5 id="durationInputFieldText" class="durationcounter">Duration OUT (ms):</h5>
        <h5 id="durationInputFieldOUT" class="durationcounter"></h5>
    </div>
    <!--durationcounter-->

    <!--insertsPositions-->
    <div id="outpositionDIV">
        <h5 id="outposition" class=insertscounter>Sektor OUT:</h5>
        <h5 id="insertoutsektor" class="yellow"></h5>
        <h5 id="insertoutsektorpredict" class="green"></h5>
    </div>
    <div id="inpositionDIV">
        <h5 id="inposition" class=insertscounter>Sektor IN:</h5>
        <h5 id="insertinsektor" class="yellow"></h5>
        <h5 id="insertinsektorpredict" class="green"></h5>
    </div>
    <!--insertPositions-->

    <!--Propellers-->
    <script>
        new Propeller(document.getElementById('correctionOUT'), {
            inertia: 0,
            speed: 0
        });
        new Propeller(document.getElementById('correctionIN'), {
            inertia: 0,
            speed: 0
        });


        function getRotationAngle(target) {
            const obj = window.getComputedStyle(target, null);
            const matrix = obj.getPropertyValue('-webkit-transform') ||
                obj.getPropertyValue('-moz-transform') ||
                obj.getPropertyValue('-ms-transform') ||
                obj.getPropertyValue('-o-transform') ||
                obj.getPropertyValue('transform');

            let angle = 0;

            if (matrix !== 'none') {
                const values = matrix.split('(')[1].split(')')[0].split(',');
                const a = values[0];
                const b = values[1];
                angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));
            }

            return (angle < 0) ? angle += 360 : angle;
        }


        //ButtonDelay W
        var timer = 0,
            timerInterval,
            button = document.getElementById("WclockwiseID");

        button.addEventListener("mousedown", function () {
            timerInterval = setInterval(function () {
                timer += 10;
                durationINms = timer;
            }, 10);
        });

        button.addEventListener("mouseup", function () {
            clearInterval(timerInterval);
            timer = 0;
        });

        //ButtonDelay W
        var timer2 = 0,
            timerInterval2,
            button2 = document.getElementById("WcounterclockwiseID");

        button2.addEventListener("mousedown", function () {
            timerInterval2 = setInterval(function () {
                timer2 += 10;
                durationINms = timer2;
            }, 10);
        });

        button2.addEventListener("mouseup", function () {
            clearInterval(timerInterval2);
            timer2 = 0;
        });


        //ButtonDelay B
        var timer3 = 0,
            timerInterval3,
            button3 = document.getElementById("BclockwiseID");

        button3.addEventListener("mousedown", function () {
            timerInterval3 = setInterval(function () {
                timer3 += 10;
                durationOUTms = timer3;
            }, 10);
        });

        button3.addEventListener("mouseup", function () {
            clearInterval(timerInterval3);
            timer3 = 0;
        });

        //ButtonDelay B
        var timer4 = 0,
            timerInterval4,
            button4 = document.getElementById("BcounterclockwiseID");

        button4.addEventListener("mousedown", function () {
            timerInterval4 = setInterval(function () {
                timer4 += 10;
                durationOUTms = timer4;
            }, 10);
        });

        button4.addEventListener("mouseup", function () {
            clearInterval(timerInterval4);
            timer4 = 0;
        });
    </script>


</body>

</html>